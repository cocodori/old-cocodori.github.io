{
    "version": "https://jsonfeed.org/version/1",
    "title": "murmur",
    "home_page_url": "https://cocodori.github.io/",
    "feed_url": "https://cocodori.github.io/feed.json",
    "description": "ğŸ¥±murmur",
    "icon": "https://cocodori.github.io/apple-touch-icon.png",
    "favicon": "https://cocodori.github.io/favicon.ico",
    "expired": false,
    
    "author":  {
        "name": "Hoon",
        "url": null,
        "avatar": null
    },
    
"items": [
    
        {
            "id": "https://cocodori.github.io/2022/02/10/spring-batch-common-pattern",
            "title": "Common Batch Pattern",
            "summary": "ì¼ë¶€ ë°°ì¹˜ jobì€ ìŠ¤í”„ë§ ë°°ì¹˜ê°€ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë§Œìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.",
            "content_text": "Common Batch Patternì¼ë¶€ ë°°ì¹˜ jobì€ ìŠ¤í”„ë§ ë°°ì¹˜ê°€ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë§Œìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ItemReader , ItemWriter êµ¬í˜„ì²´ë§Œìœ¼ë¡œ ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì»¤ìŠ¤í…€ ì½”ë“œê°€ í•„ìš”í•  ë•Œê°€ í›¨ì”¬ ë§ë‹¤. ì£¼ë¡œ Tasklet , ItemReader , ItemWriter ì™€ ë‹¤ì–‘í•œ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•œë‹¤. ì œì¼ ê°„ë‹¨í•œ ë°°ì¹˜ëŠ” ìŠ¤í”„ë§ ë°°ì¹˜ì˜ ItemReader ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ì§€ë§Œ ì•„ì´í…œì„ ê°€ê³µí•˜ê³  writeí•  ë•ŒëŠ” ItemWriter , ItemProcessor ë¥¼ ì»¤ìŠ¤í…€ í•´ì•¼ í•  ë•Œê°€ ë§ë‹¤.ì»¤ìŠ¤í…€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ í”íˆ ì“°ì´ëŠ” ëª‡ ê°€ì§€ íŒ¨í„´ì´ ìˆë‹¤. ì˜ˆì œëŠ” ì£¼ë¡œ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. ItemReader , ItemWriter ëŠ” í•„ìš”í•˜ë‹¤ë©´ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.Logging ITem Processing and Failuresstepì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì•„ì´í…œë³„ë¡œ íŠ¹ì • ì±„ë„ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ë ˆì½”ë“œë¥¼ ë„£ëŠ” ì‹ì˜ íŠ¹ë³„í•œ ì²˜ë¦¬ë¥¼ ë§ì´ í•œë‹¤. ì²­í¬ ì§€í–¥ Step ì„ ì‚¬ìš©í•˜ë©´ read ë©”ì†Œë“œì—ì„œ ìƒê¸´ ì—ëŸ¬ëŠ” ItemReadListener ë¡œ, write ë©”ì†Œë“œì—ì„œ ìƒê¸´ ì—ëŸ¬ëŠ” ItemWriteListener ë¡œ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œì— ìˆëŠ” ë¦¬ìŠ¤ë„ˆëŠ” readì™€ write ì‹¤íŒ¨ë¥¼ ëª¨ë‘ ë¡œê¹…í•œë‹¤.public class ItemFailureLoggerListener extends ItemListenerSupport {\tprivate static Log logger = LogFactory.getLog(\"item.error\")\tpublic void onReadError(Exception ex) {\t\tlogger.error(\"Encountered error on read\", e);\t}\tpublic void onWriteError(Exception ex, List&lt;? extends Object&gt; items) {\t\tlogger.error(\"Encountered error on write\", ex);\t}}ë¦¬ìŠ¤ë„ˆë¥¼ êµ¬í˜„í–ˆë‹¤ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ stepì— ë“±ë¡í•´ì•¼ í•œë‹¤.@Beanpublic Step simpleStep() {\treturn this.stepBuilderFactory.get(\"simpleStep\")\t\t\t\t\t\t\t\t\t...\t\t\t\t\t\t\t\t\t.listener(new ItemFailureLoggerListener())\t\t\t\t\t\t\t\t\t.build();}  ë¦¬ìŠ¤ë„ˆê°€ onError() ë©”ì†Œë“œ ì•ˆì—ì„œ ì²˜ë¦¬í•˜ëŠ” ì¼ì€ íŠ¸ëœì­ì…˜ ì•ˆì— ìˆì–´ì•¼ ë¡¤ë°±í•  ìˆ˜ ìˆë‹¤. onError() ì•ˆì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ íŠ¸ëœì­ì…˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë©”ì†Œë“œì— ì„ ì–¸ì ì¸ íŠ¸ëœì­ì…˜ì„ ì¶”ê°€í•´ì„œ ì „íŒŒ(propagation) ì†ì„±ì„ REQUIRES_NEW ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.Stopping a Job Manually for Business ReasonsìŠ¤í”„ë§ ë°°ì¹˜ëŠ” JobLauncher ì¸í„°í˜ì´ìŠ¤ë¡œ stop() ë©”ì†Œë“œë¥¼ ì œê³µí•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìê°€ ì‚¬ìš©í•˜ëŠ” ìš©ë„ëŠ” ì•„ë‹ˆë‹¤. ê°€ë”ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì•ˆì—ì„œ jobì„ ì¤‘ë‹¨í•˜ëŠ” ê²Œ ë” í¸í•˜ê±°ë‚˜ í•©ë¦¬ì ì´ë‹¤.ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ RuntimeException ì„ ë˜ì§€ëŠ” ê²ƒì´ë‹¤(ë¬´í•œìœ¼ë¡œ ì¬ì‹œë„í•˜ê±°ë‚˜ ìŠ¤í‚µí•˜ì§€ ì•ŠëŠ” exception).ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì²˜ëŸ¼ ì»¤ìŠ¤í…€ exceptionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤:public class PoisonPillItemProcessor&lt;T&gt; implements ItemProcessor&lt;T, T&gt; {\t@Override\tpublic T process(T item) throws Exception {\t\tif (isPoisonPill(item))\t\t\tthrow new PoisonPillException(\"Poison pill detected: \" + item);\t\treturn item;\t}}ê°„ë‹¨í•˜ê²Œ  stepì„ ì¢…ë£Œí•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•ì€ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ ItemReader ì—ì„œ nullì„ ë¦¬í„´í•˜ëŠ” ê²ƒì´ë‹¤.public class EarlyCompletionItemReader implements ItemReader&lt;T&gt; {\tprivate ItemReader&lt;T&gt; delegate;\tpublic void setDelegate(ItemReader&lt;T&gt; delegate) { ... }\tpublic T read() throws Exception {\t\tT item = delegate.read();\t\tif (isEndItem(item))\t\t\treturn null\t\t\t\treturn item;\t}}ì´ ì˜ˆì œëŠ” ì‚¬ì‹¤ ì•„ì´í…œì´ nullì´ë©´ ë°°ì¹˜ê°€ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ëŠ” CompletionPolicy ë””í´íŠ¸ êµ¬í˜„ì²´ê°€ ìˆì–´ì•¼ ë™ì‘í•œë‹¤. ë” ë³µì¡í•œ completion policyë¥¼ êµ¬í˜„í–ˆë‹¤ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ SimpleStepFactoryBean ìœ¼ë¡œ Step ì— ì£¼ì…í•˜ë©´ ëœë‹¤.@Beanpublic Step simpleStep() {\treturn this.stepBuilderFatory.get(\"simpleStep\")\t\t\t\t\t.&lt;String, String&gt;chunk(new SpecialCompletionPolicy())\t\t\t\t\t.reader(reader())\t\t\t\t\t.writer(writer())\t\t\t\t\t.build();}ë‹¤ë¥¸ ë°©ë²•ì€ ì•„ì´í…œì„ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ Step êµ¬í˜„ì²´ê°€ ì²´í¬í•˜ëŠ” StepExecution í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë ¤ë©´ í˜„ì¬ StepExecution ì— ì ‘ê·¼í•˜ëŠ” StepListener ë¥¼ êµ¬í˜„í•˜ê³  Step ì— ë“±ë¡í•´ì•¼ í•œë‹¤. ë‹¤ìŒì€ í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ë¦¬ìŠ¤ë„ˆ ì˜ˆì‹œ:public class CustomItemWriter extends ItemListenerSupport implements StepListener {\tprivate StepExecution stepExecution;\tpublic void beforeStep(StepExecution stepExecution) {\t\tthis.stepExecution = stepExecution;\t}\tpublic void afterRead(Object item) {\t\tif (isPoisonPill(item))\t\t\tstepExecution.setTerminateOnly();\t}}ì´ í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë””í´íŠ¸ ì„¤ì •ëŒ€ë¡œ stepì´ JobInterruptedException ì„ ë˜ì§„ë‹¤. ì´ ë™ì‘ì€ StepInterruptionPolicy ê°€ ì œì–´í•œë‹¤. í•˜ì§€ë§Œ exceptionì„ ë˜ì§€ê±°ë‚˜ ë˜ì§€ì§€ ì•ŠëŠ” ë™ì‘ë§Œ ê°€ëŠ¥í•´ì„œ í•­ìƒ ë¹„ì •ìƒì ìœ¼ë¡œ jobì„ ì¢…ë£Œí•œë‹¤.Adding a Footer RecordFlat íŒŒì¼ì— writeí•  ë•ŒëŠ” ëª¨ë“  ì²˜ë¦¬ê°€ ëë‚œ í›„ì— íŒŒì¼ ëì— footer ë ˆì½”ë“œë¥¼ ì ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆë‹¤. ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” ì´ë¥¼ ìœ„í•œ FlatFileFooterCallback ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•œë‹¤. FlatFileFooterCallback ì€ (FlatFileHeaderCallback ë„ ìˆìŒ) FlatFileItemWriter ì˜ ì„ íƒì ì¸ í”„ë¡œí¼í‹°ì´ë©°, ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ item writerì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤:@Beanpublic FlatFileItemWriter&lt;String&gt; itemWriter(Resource outputResource) {\treturn new FlatFileItemWriterBuilder&lt;String&gt;()\t\t\t\t\t\t.name(\"itemWriter\")\t\t\t\t\t\t.resource(outputResource)\t\t\t\t\t\t.lineAggregator(lineAggregator())\t\t\t\t\t\t.headerCallback(headerCallback())\t\t\t\t\t\t.footerCallback(footerCallback())\t\t\t\t\t\t.build()}footer callback ì¸í„°í˜ì´ìŠ¤ëŠ” ê¼¬ë¦¬ë§ì„ ì ì„ ë•Œ í˜¸ì¶œí•˜ëŠ” ë©”ì†Œë“œ í•˜ë‚˜ë§Œ ê°€ì§€ê³  ìˆë‹¤. ì¸í„°í˜ì´ìŠ¤ ì •ìœ¼ã…£ëŠã„´ ë‹¤ìŒê³¼ ê°™ë‹¤:public interface FlatFileFooterCallback {\tvoid writeFooter(Writer writer) throw IOException;}ì°¸ê³ : https://godekdls.github.io/Spring%20Batch/commonbatchpatterns/",
            "content_html": "<h1 id=\"common-batch-pattern\">Common Batch Pattern</h1><p>ì¼ë¶€ ë°°ì¹˜ jobì€ ìŠ¤í”„ë§ ë°°ì¹˜ê°€ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë§Œìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ <code class=\"language-plaintext highlighter-rouge\">ItemReader</code> , <code class=\"language-plaintext highlighter-rouge\">ItemWriter</code> êµ¬í˜„ì²´ë§Œìœ¼ë¡œ ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì»¤ìŠ¤í…€ ì½”ë“œê°€ í•„ìš”í•  ë•Œê°€ í›¨ì”¬ ë§ë‹¤. ì£¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">Tasklet</code> , <code class=\"language-plaintext highlighter-rouge\">ItemReader</code> , <code class=\"language-plaintext highlighter-rouge\">ItemWriter</code> ì™€ ë‹¤ì–‘í•œ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•œë‹¤. ì œì¼ ê°„ë‹¨í•œ ë°°ì¹˜ëŠ” ìŠ¤í”„ë§ ë°°ì¹˜ì˜ <code class=\"language-plaintext highlighter-rouge\">ItemReader</code> ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ì§€ë§Œ ì•„ì´í…œì„ ê°€ê³µí•˜ê³  writeí•  ë•ŒëŠ” <code class=\"language-plaintext highlighter-rouge\">ItemWriter</code> , <code class=\"language-plaintext highlighter-rouge\">ItemProcessor</code> ë¥¼ ì»¤ìŠ¤í…€ í•´ì•¼ í•  ë•Œê°€ ë§ë‹¤.</p><p>ì»¤ìŠ¤í…€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ í”íˆ ì“°ì´ëŠ” ëª‡ ê°€ì§€ íŒ¨í„´ì´ ìˆë‹¤. ì˜ˆì œëŠ” ì£¼ë¡œ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. <code class=\"language-plaintext highlighter-rouge\">ItemReader</code> , <code class=\"language-plaintext highlighter-rouge\">ItemWriter</code> ëŠ” í•„ìš”í•˜ë‹¤ë©´ ë¦¬ìŠ¤ë„ˆ ì¸í„°í˜ì´ìŠ¤ë„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p><h2 id=\"logging-item-processing-and-failures\">Logging ITem Processing and Failures</h2><p>stepì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì•„ì´í…œë³„ë¡œ íŠ¹ì • ì±„ë„ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ë ˆì½”ë“œë¥¼ ë„£ëŠ” ì‹ì˜ íŠ¹ë³„í•œ ì²˜ë¦¬ë¥¼ ë§ì´ í•œë‹¤. ì²­í¬ ì§€í–¥ <code class=\"language-plaintext highlighter-rouge\">Step</code> ì„ ì‚¬ìš©í•˜ë©´ <code class=\"language-plaintext highlighter-rouge\">read</code> ë©”ì†Œë“œì—ì„œ ìƒê¸´ ì—ëŸ¬ëŠ” <code class=\"language-plaintext highlighter-rouge\">ItemReadListener</code> ë¡œ, <code class=\"language-plaintext highlighter-rouge\">write</code> ë©”ì†Œë“œì—ì„œ ìƒê¸´ ì—ëŸ¬ëŠ” <code class=\"language-plaintext highlighter-rouge\">ItemWriteListener</code> ë¡œ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œì— ìˆëŠ” ë¦¬ìŠ¤ë„ˆëŠ” readì™€ write ì‹¤íŒ¨ë¥¼ ëª¨ë‘ ë¡œê¹…í•œë‹¤.</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">ItemFailureLoggerListener</span> <span class=\"kd\">extends</span> <span class=\"nc\">ItemListenerSupport</span> <span class=\"o\">{</span>\t<span class=\"kd\">private</span> <span class=\"kd\">static</span> <span class=\"nc\">Log</span> <span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"nc\">LogFactory</span><span class=\"o\">.</span><span class=\"na\">getLog</span><span class=\"o\">(</span><span class=\"s\">\"item.error\"</span><span class=\"o\">)</span>\t<span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">onReadError</span><span class=\"o\">(</span><span class=\"nc\">Exception</span> <span class=\"n\">ex</span><span class=\"o\">)</span> <span class=\"o\">{</span>\t\t<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"na\">error</span><span class=\"o\">(</span><span class=\"s\">\"Encountered error on read\"</span><span class=\"o\">,</span> <span class=\"n\">e</span><span class=\"o\">);</span>\t<span class=\"o\">}</span>\t<span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">onWriteError</span><span class=\"o\">(</span><span class=\"nc\">Exception</span> <span class=\"n\">ex</span><span class=\"o\">,</span> <span class=\"nc\">List</span><span class=\"o\">&lt;?</span> <span class=\"kd\">extends</span> <span class=\"nc\">Object</span><span class=\"o\">&gt;</span> <span class=\"n\">items</span><span class=\"o\">)</span> <span class=\"o\">{</span>\t\t<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"na\">error</span><span class=\"o\">(</span><span class=\"s\">\"Encountered error on write\"</span><span class=\"o\">,</span> <span class=\"n\">ex</span><span class=\"o\">);</span>\t<span class=\"o\">}</span><span class=\"o\">}</span></code></pre></div></div><p>ë¦¬ìŠ¤ë„ˆë¥¼ êµ¬í˜„í–ˆë‹¤ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ stepì— ë“±ë¡í•´ì•¼ í•œë‹¤.</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nd\">@Bean</span><span class=\"kd\">public</span> <span class=\"nc\">Step</span> <span class=\"nf\">simpleStep</span><span class=\"o\">()</span> <span class=\"o\">{</span>\t<span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"o\">.</span><span class=\"na\">stepBuilderFactory</span><span class=\"o\">.</span><span class=\"na\">get</span><span class=\"o\">(</span><span class=\"s\">\"simpleStep\"</span><span class=\"o\">)</span>\t\t\t\t\t\t\t\t\t<span class=\"o\">...</span>\t\t\t\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">listener</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"nc\">ItemFailureLoggerListener</span><span class=\"o\">())</span>\t\t\t\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">build</span><span class=\"o\">();</span><span class=\"o\">}</span></code></pre></div></div><blockquote>  <p>ë¦¬ìŠ¤ë„ˆê°€ <code class=\"language-plaintext highlighter-rouge\">onError()</code> ë©”ì†Œë“œ ì•ˆì—ì„œ ì²˜ë¦¬í•˜ëŠ” ì¼ì€ íŠ¸ëœì­ì…˜ ì•ˆì— ìˆì–´ì•¼ ë¡¤ë°±í•  ìˆ˜ ìˆë‹¤. <code class=\"language-plaintext highlighter-rouge\">onError()</code> ì•ˆì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ íŠ¸ëœì­ì…˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë©”ì†Œë“œì— ì„ ì–¸ì ì¸ íŠ¸ëœì­ì…˜ì„ ì¶”ê°€í•´ì„œ ì „íŒŒ(propagation) ì†ì„±ì„ <code class=\"language-plaintext highlighter-rouge\">REQUIRES_NEW</code> ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.</p></blockquote><h2 id=\"stopping-a-job-manually-for-business-reasons\">Stopping a Job Manually for Business Reasons</h2><p>ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” <code class=\"language-plaintext highlighter-rouge\">JobLauncher</code> ì¸í„°í˜ì´ìŠ¤ë¡œ <code class=\"language-plaintext highlighter-rouge\">stop()</code> ë©”ì†Œë“œë¥¼ ì œê³µí•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìê°€ ì‚¬ìš©í•˜ëŠ” ìš©ë„ëŠ” ì•„ë‹ˆë‹¤. ê°€ë”ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì•ˆì—ì„œ jobì„ ì¤‘ë‹¨í•˜ëŠ” ê²Œ ë” í¸í•˜ê±°ë‚˜ í•©ë¦¬ì ì´ë‹¤.</p><p>ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ <code class=\"language-plaintext highlighter-rouge\">RuntimeException</code> ì„ ë˜ì§€ëŠ” ê²ƒì´ë‹¤(ë¬´í•œìœ¼ë¡œ ì¬ì‹œë„í•˜ê±°ë‚˜ ìŠ¤í‚µí•˜ì§€ ì•ŠëŠ” exception).</p><p>ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì²˜ëŸ¼ ì»¤ìŠ¤í…€ exceptionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤:</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">PoisonPillItemProcessor</span><span class=\"o\">&lt;</span><span class=\"no\">T</span><span class=\"o\">&gt;</span> <span class=\"kd\">implements</span> <span class=\"nc\">ItemProcessor</span><span class=\"o\">&lt;</span><span class=\"no\">T</span><span class=\"o\">,</span> <span class=\"no\">T</span><span class=\"o\">&gt;</span> <span class=\"o\">{</span>\t<span class=\"nd\">@Override</span>\t<span class=\"kd\">public</span> <span class=\"no\">T</span> <span class=\"nf\">process</span><span class=\"o\">(</span><span class=\"no\">T</span> <span class=\"n\">item</span><span class=\"o\">)</span> <span class=\"kd\">throws</span> <span class=\"nc\">Exception</span> <span class=\"o\">{</span>\t\t<span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">isPoisonPill</span><span class=\"o\">(</span><span class=\"n\">item</span><span class=\"o\">))</span>\t\t\t<span class=\"k\">throw</span> <span class=\"k\">new</span> <span class=\"nf\">PoisonPillException</span><span class=\"o\">(</span><span class=\"s\">\"Poison pill detected: \"</span> <span class=\"o\">+</span> <span class=\"n\">item</span><span class=\"o\">);</span>\t\t<span class=\"k\">return</span> <span class=\"n\">item</span><span class=\"o\">;</span>\t<span class=\"o\">}</span><span class=\"o\">}</span></code></pre></div></div><p>ê°„ë‹¨í•˜ê²Œ  stepì„ ì¢…ë£Œí•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•ì€ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ <code class=\"language-plaintext highlighter-rouge\">ItemReader</code> ì—ì„œ nullì„ ë¦¬í„´í•˜ëŠ” ê²ƒì´ë‹¤.</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">EarlyCompletionItemReader</span> <span class=\"kd\">implements</span> <span class=\"nc\">ItemReader</span><span class=\"o\">&lt;</span><span class=\"no\">T</span><span class=\"o\">&gt;</span> <span class=\"o\">{</span>\t<span class=\"kd\">private</span> <span class=\"nc\">ItemReader</span><span class=\"o\">&lt;</span><span class=\"no\">T</span><span class=\"o\">&gt;</span> <span class=\"n\">delegate</span><span class=\"o\">;</span>\t<span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">setDelegate</span><span class=\"o\">(</span><span class=\"nc\">ItemReader</span><span class=\"o\">&lt;</span><span class=\"no\">T</span><span class=\"o\">&gt;</span> <span class=\"n\">delegate</span><span class=\"o\">)</span> <span class=\"o\">{</span> <span class=\"o\">...</span> <span class=\"o\">}</span>\t<span class=\"kd\">public</span> <span class=\"no\">T</span> <span class=\"nf\">read</span><span class=\"o\">()</span> <span class=\"kd\">throws</span> <span class=\"nc\">Exception</span> <span class=\"o\">{</span>\t\t<span class=\"no\">T</span> <span class=\"n\">item</span> <span class=\"o\">=</span> <span class=\"n\">delegate</span><span class=\"o\">.</span><span class=\"na\">read</span><span class=\"o\">();</span>\t\t<span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">isEndItem</span><span class=\"o\">(</span><span class=\"n\">item</span><span class=\"o\">))</span>\t\t\t<span class=\"k\">return</span> <span class=\"kc\">null</span>\t\t\t\t<span class=\"k\">return</span> <span class=\"n\">item</span><span class=\"o\">;</span>\t<span class=\"o\">}</span><span class=\"o\">}</span></code></pre></div></div><p>ì´ ì˜ˆì œëŠ” ì‚¬ì‹¤ ì•„ì´í…œì´ nullì´ë©´ ë°°ì¹˜ê°€ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ëŠ” <code class=\"language-plaintext highlighter-rouge\">CompletionPolicy</code> ë””í´íŠ¸ êµ¬í˜„ì²´ê°€ ìˆì–´ì•¼ ë™ì‘í•œë‹¤. ë” ë³µì¡í•œ completion policyë¥¼ êµ¬í˜„í–ˆë‹¤ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ <code class=\"language-plaintext highlighter-rouge\">SimpleStepFactoryBean</code> ìœ¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">Step</code> ì— ì£¼ì…í•˜ë©´ ëœë‹¤.</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nd\">@Bean</span><span class=\"kd\">public</span> <span class=\"nc\">Step</span> <span class=\"nf\">simpleStep</span><span class=\"o\">()</span> <span class=\"o\">{</span>\t<span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"o\">.</span><span class=\"na\">stepBuilderFatory</span><span class=\"o\">.</span><span class=\"na\">get</span><span class=\"o\">(</span><span class=\"s\">\"simpleStep\"</span><span class=\"o\">)</span>\t\t\t\t\t<span class=\"o\">.&lt;</span><span class=\"nc\">String</span><span class=\"o\">,</span> <span class=\"nc\">String</span><span class=\"o\">&gt;</span><span class=\"n\">chunk</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"nc\">SpecialCompletionPolicy</span><span class=\"o\">())</span>\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">reader</span><span class=\"o\">(</span><span class=\"n\">reader</span><span class=\"o\">())</span>\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">writer</span><span class=\"o\">(</span><span class=\"n\">writer</span><span class=\"o\">())</span>\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">build</span><span class=\"o\">();</span><span class=\"o\">}</span></code></pre></div></div><p>ë‹¤ë¥¸ ë°©ë²•ì€ ì•„ì´í…œì„ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ <code class=\"language-plaintext highlighter-rouge\">Step</code> êµ¬í˜„ì²´ê°€ ì²´í¬í•˜ëŠ” <code class=\"language-plaintext highlighter-rouge\">StepExecution</code> í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë ¤ë©´ í˜„ì¬ <code class=\"language-plaintext highlighter-rouge\">StepExecution</code> ì— ì ‘ê·¼í•˜ëŠ” <code class=\"language-plaintext highlighter-rouge\">StepListener</code> ë¥¼ êµ¬í˜„í•˜ê³  <code class=\"language-plaintext highlighter-rouge\">Step</code> ì— ë“±ë¡í•´ì•¼ í•œë‹¤. ë‹¤ìŒì€ í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ë¦¬ìŠ¤ë„ˆ ì˜ˆì‹œ:</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">CustomItemWriter</span> <span class=\"kd\">extends</span> <span class=\"nc\">ItemListenerSupport</span> <span class=\"kd\">implements</span> <span class=\"nc\">StepListener</span> <span class=\"o\">{</span>\t<span class=\"kd\">private</span> <span class=\"nc\">StepExecution</span> <span class=\"n\">stepExecution</span><span class=\"o\">;</span>\t<span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">beforeStep</span><span class=\"o\">(</span><span class=\"nc\">StepExecution</span> <span class=\"n\">stepExecution</span><span class=\"o\">)</span> <span class=\"o\">{</span>\t\t<span class=\"k\">this</span><span class=\"o\">.</span><span class=\"na\">stepExecution</span> <span class=\"o\">=</span> <span class=\"n\">stepExecution</span><span class=\"o\">;</span>\t<span class=\"o\">}</span>\t<span class=\"kd\">public</span> <span class=\"kt\">void</span> <span class=\"nf\">afterRead</span><span class=\"o\">(</span><span class=\"nc\">Object</span> <span class=\"n\">item</span><span class=\"o\">)</span> <span class=\"o\">{</span>\t\t<span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">isPoisonPill</span><span class=\"o\">(</span><span class=\"n\">item</span><span class=\"o\">))</span>\t\t\t<span class=\"n\">stepExecution</span><span class=\"o\">.</span><span class=\"na\">setTerminateOnly</span><span class=\"o\">();</span>\t<span class=\"o\">}</span><span class=\"o\">}</span></code></pre></div></div><p>ì´ í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë””í´íŠ¸ ì„¤ì •ëŒ€ë¡œ stepì´ <code class=\"language-plaintext highlighter-rouge\">JobInterruptedException</code> ì„ ë˜ì§„ë‹¤. ì´ ë™ì‘ì€ <code class=\"language-plaintext highlighter-rouge\">StepInterruptionPolicy</code> ê°€ ì œì–´í•œë‹¤. í•˜ì§€ë§Œ exceptionì„ ë˜ì§€ê±°ë‚˜ ë˜ì§€ì§€ ì•ŠëŠ” ë™ì‘ë§Œ ê°€ëŠ¥í•´ì„œ í•­ìƒ ë¹„ì •ìƒì ìœ¼ë¡œ jobì„ ì¢…ë£Œí•œë‹¤.</p><h2 id=\"adding-a-footer-record\">Adding a Footer Record</h2><p>Flat íŒŒì¼ì— writeí•  ë•ŒëŠ” ëª¨ë“  ì²˜ë¦¬ê°€ ëë‚œ í›„ì— íŒŒì¼ ëì— footer ë ˆì½”ë“œë¥¼ ì ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆë‹¤. ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” ì´ë¥¼ ìœ„í•œ FlatFileFooterCallback ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•œë‹¤. <code class=\"language-plaintext highlighter-rouge\">FlatFileFooterCallback</code> ì€ (<code class=\"language-plaintext highlighter-rouge\">FlatFileHeaderCallback</code> ë„ ìˆìŒ) <code class=\"language-plaintext highlighter-rouge\">FlatFileItemWriter</code> ì˜ ì„ íƒì ì¸ í”„ë¡œí¼í‹°ì´ë©°, ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ item writerì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤:</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nd\">@Bean</span><span class=\"kd\">public</span> <span class=\"nc\">FlatFileItemWriter</span><span class=\"o\">&lt;</span><span class=\"nc\">String</span><span class=\"o\">&gt;</span> <span class=\"nf\">itemWriter</span><span class=\"o\">(</span><span class=\"nc\">Resource</span> <span class=\"n\">outputResource</span><span class=\"o\">)</span> <span class=\"o\">{</span>\t<span class=\"k\">return</span> <span class=\"k\">new</span> <span class=\"nc\">FlatFileItemWriterBuilder</span><span class=\"o\">&lt;</span><span class=\"nc\">String</span><span class=\"o\">&gt;()</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">name</span><span class=\"o\">(</span><span class=\"s\">\"itemWriter\"</span><span class=\"o\">)</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">resource</span><span class=\"o\">(</span><span class=\"n\">outputResource</span><span class=\"o\">)</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">lineAggregator</span><span class=\"o\">(</span><span class=\"n\">lineAggregator</span><span class=\"o\">())</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">headerCallback</span><span class=\"o\">(</span><span class=\"n\">headerCallback</span><span class=\"o\">())</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">footerCallback</span><span class=\"o\">(</span><span class=\"n\">footerCallback</span><span class=\"o\">())</span>\t\t\t\t\t\t<span class=\"o\">.</span><span class=\"na\">build</span><span class=\"o\">()</span><span class=\"o\">}</span></code></pre></div></div><p>footer callback ì¸í„°í˜ì´ìŠ¤ëŠ” ê¼¬ë¦¬ë§ì„ ì ì„ ë•Œ í˜¸ì¶œí•˜ëŠ” ë©”ì†Œë“œ í•˜ë‚˜ë§Œ ê°€ì§€ê³  ìˆë‹¤. ì¸í„°í˜ì´ìŠ¤ ì •ìœ¼ã…£ëŠã„´ ë‹¤ìŒê³¼ ê°™ë‹¤:</p><div class=\"language-java highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">public</span> <span class=\"kd\">interface</span> <span class=\"nc\">FlatFileFooterCallback</span> <span class=\"o\">{</span>\t<span class=\"kt\">void</span> <span class=\"nf\">writeFooter</span><span class=\"o\">(</span><span class=\"nc\">Writer</span> <span class=\"n\">writer</span><span class=\"o\">)</span> <span class=\"k\">throw</span> <span class=\"nc\">IOException</span><span class=\"o\">;</span><span class=\"o\">}</span></code></pre></div></div><p>ì°¸ê³ : https://godekdls.github.io/Spring%20Batch/commonbatchpatterns/</p>",
            "url": "https://cocodori.github.io/2022/02/10/spring-batch-common-pattern",
            
            
            
            
            
            "date_published": "2022-02-10T00:00:00+01:00",
            "date_modified": "2022-02-10T00:00:00+01:00",
            
                "author":  {
                "name": "Hoon",
                "url": null,
                "avatar": null
                }
                
            
        },
    
        {
            "id": "https://cocodori.github.io/2022/02/08/spring-batch-jsonitemreader",
            "title": "SpringBatch JsonItemReader",
            "summary": "ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” JSON ì²˜ë¦¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ItemReaderë¥¼ ì œê³µí•œë‹¤.",
            "content_text": "ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” JSON ì²˜ë¦¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ItemReaderë¥¼ ì œê³µí•œë‹¤.JsonItemReaderëŠ” JSON ì²­í¬ë¥¼ ì½ì–´ì„œ ê°ì²´ë¡œ íŒŒì‹±í•œë‹¤ëŠ” ë©´ì—ì„œ StackEventItemReader ë™ì‘ ê°œë…ê³¼ ê±°ì˜ ë™ì¼í•˜ë‹¤. JSON ë¬¸ì„œëŠ” ê°ì²´ë¡œ êµ¬ì„±ëœ ë°°ì—´ì´ ìµœìƒë‹¨ì— í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ” ì™„ì „í•œ í˜•íƒœì˜ ë¬¸ì„œì—¬ì•¼ í•œë‹¤. JsonItemReader ê°€ ë™ì‘í•  ë•Œ ì‹¤ì œ íŒŒì‹± ì‘ì—…ì€ JsonObjectReader ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ì—ê²Œ ìœ„ì„ëœë‹¤.ì¸í„°í˜ì´ìŠ¤ëŠ” StackEventItemReader ì—ì„œ ì–¸ë§ˆìƒ¬ëŸ¬ê°€ XMLì„ ê°ì²´ë¡œ íŒŒì‹±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ë°©ë²•ìœ¼ë¡œ ì‹¤ì œë¡œ JSONì„ ê°ì²´ë¡œ íŒŒì‹±í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ì¦‰ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ JsonObjectReader ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ ë‘ ê°œë¥¼ ì œê³µí•œë‹¤. í•˜ë‚˜ëŠ” Jacksonì„ íŒŒì‹± ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©í•˜ë©° ë‚˜ë¨¸ì§€ í•˜ë‚˜ëŠ” Gsonì„ ì‚¬ìš©í•œë‹¤. ì˜ˆì œì—ì„œëŠ” Jackson êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.ì˜ˆì‹œ ë°ì´í„°[  {    \"firstName\":\"Laura\",    \"middleInitial\":\"0\",    \"lastName\":\"Minella\",    \"address\":\"2039 Wall Street\",    \"city\":\"Omaha\",    \"state\":\"IL\",    \"zipCode\":\"35446\",    \"transactions\": [      {       \"accountNumber\": 829433,       \"transactionDate\": \"2010-10-14 05:48:59\",       \"amount\": 26.08      }    ]  }]JsonItemReader ë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ìŠ¤í”„ë§ ë°°ì¹˜ê°€ ì œê³µí•˜ëŠ” builderë¥¼ ì‚¬ìš©í•œë‹¤. ë¹Œë”ì—ëŠ” ì„¸ ê°€ì§€ ì˜ì¡´ì„±ì´ í•„ìš”í•˜ë‹¤.  batch name  JsonObjectReader  ì½ì„ ë¦¬ì†ŒìŠ¤JsonItemReader ì˜ ë‹¤ë¥¸ êµ¬ì„± í•­ëª©ì—ëŠ” ì…ë ¥ì´ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸(strict.ê¸°ë³¸ê°’ true), ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸(saveState) í˜„ì¬ ItemCountê°€ ìˆë‹¤.íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” JsonItemReader@Configurationclass TestReader {    @Bean    @StepScope    fun customerFileReader(        @Value(\"#{jobParameters['customerFile']}\") inputFile: Resource    ): JsonItemReader&lt;Customer&gt; {        val objectMapper = ObjectMapper()        objectMapper.dateFormat = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")        val jsonObjectReader: JacksonJsonObjectReader&lt;Customer&gt; =            JacksonJsonObjectReader(Customer::class.java)        jsonObjectReader.setMapper(objectMapper)        return JsonItemReaderBuilder&lt;Customer&gt;()            .name(\"customerFileReader\")            .jsonObjectReader(jsonObjectReader)            .resource(inputFile)            .build()    }}ë¨¼ì € ObjectMapper ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. ObjectMapper í´ë˜ìŠ¤ëŠ” Jacksonì´ JSONì„ ì½ê³  ì“°ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ì£¼ìš” í´ë˜ìŠ¤ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œí•  ë•Œ ëŒ€ë¶€ë¶„ ObjectMapper ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•  í•„ìš”ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ì˜ˆì œì—ì„œëŠ” ì…ë ¥ íŒŒì¼ì˜ ë‚ ì§œ í˜•ì‹ì„ ì§€ì •í•´ì•¼ í•œë‹¤. ì¦‰, ì‚¬ìš©í•˜ë ¤ëŠ” ObjectMapperë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ì•¼ í•œë‹¤.  ObjectMapper ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.          ì…ë ¥ íŒŒì¼ì˜ transactionDate ë¥¼ ì²˜ë¦¬í•  ë‚ ì§œ í˜•ì‹ì„ ì§€ì •í•œë‹¤.      ì´ì–´ì„œ JacksonJsonObjectReader ë¥¼ ìƒì„±í•œë‹¤.                  ì´ë•Œ ë‘ ê°€ì§€ ì˜ì¡´ì„±ì´ í•„ìš”í•˜ë‹¤.                          ë°˜í™˜í•  í´ë˜ìŠ¤(Customer)              ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ ObjectMapper                                  ë§ˆì§€ë§‰ìœ¼ë¡œ JsonItemReader ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ì„±í•œë‹¤.                  ìƒˆë¡œìš´ JsonItemReader ë¥¼ ìƒì„±í•œ ë’¤ ì´ë¦„, JsonObjectReader ê°ì²´, ì½ì–´ë“¤ì¼ ë¦¬ì†ŒìŠ¤ë¥¼ êµ¬ì„±í–ˆë‹¤. ê·¸ë¦¬ê³  build ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ JsonItemReader ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.                                                                        ì°¸ê³ : ìŠ¤í”„ë§ ë°°ì¹˜ ì™„ë²½ê°€ì´ë“œ",
            "content_html": "<p>ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” JSON ì²˜ë¦¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ItemReaderë¥¼ ì œê³µí•œë‹¤.</p><p><code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code>ëŠ” JSON ì²­í¬ë¥¼ ì½ì–´ì„œ ê°ì²´ë¡œ íŒŒì‹±í•œë‹¤ëŠ” ë©´ì—ì„œ <code class=\"language-plaintext highlighter-rouge\">StackEventItemReader</code> ë™ì‘ ê°œë…ê³¼ ê±°ì˜ ë™ì¼í•˜ë‹¤. JSON ë¬¸ì„œëŠ” ê°ì²´ë¡œ êµ¬ì„±ëœ ë°°ì—´ì´ ìµœìƒë‹¨ì— í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ëŠ” ì™„ì „í•œ í˜•íƒœì˜ ë¬¸ì„œì—¬ì•¼ í•œë‹¤. <code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ê°€ ë™ì‘í•  ë•Œ ì‹¤ì œ íŒŒì‹± ì‘ì—…ì€ <code class=\"language-plaintext highlighter-rouge\">JsonObjectReader</code> ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ì—ê²Œ ìœ„ì„ëœë‹¤.</p><p>ì¸í„°í˜ì´ìŠ¤ëŠ” <code class=\"language-plaintext highlighter-rouge\">StackEventItemReader</code> ì—ì„œ ì–¸ë§ˆìƒ¬ëŸ¬ê°€ XMLì„ ê°ì²´ë¡œ íŒŒì‹±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ë°©ë²•ìœ¼ë¡œ ì‹¤ì œë¡œ JSONì„ ê°ì²´ë¡œ íŒŒì‹±í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ì¦‰ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ <code class=\"language-plaintext highlighter-rouge\">JsonObjectReader</code> ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ ë‘ ê°œë¥¼ ì œê³µí•œë‹¤. í•˜ë‚˜ëŠ” Jacksonì„ íŒŒì‹± ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©í•˜ë©° ë‚˜ë¨¸ì§€ í•˜ë‚˜ëŠ” Gsonì„ ì‚¬ìš©í•œë‹¤. ì˜ˆì œì—ì„œëŠ” Jackson êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.</p><p><strong>ì˜ˆì‹œ ë°ì´í„°</strong></p><div class=\"language-json highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"p\">[</span><span class=\"w\">  </span><span class=\"p\">{</span><span class=\"w\">    </span><span class=\"nl\">\"firstName\"</span><span class=\"p\">:</span><span class=\"s2\">\"Laura\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"middleInitial\"</span><span class=\"p\">:</span><span class=\"s2\">\"0\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"lastName\"</span><span class=\"p\">:</span><span class=\"s2\">\"Minella\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"address\"</span><span class=\"p\">:</span><span class=\"s2\">\"2039 Wall Street\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"city\"</span><span class=\"p\">:</span><span class=\"s2\">\"Omaha\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"state\"</span><span class=\"p\">:</span><span class=\"s2\">\"IL\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"zipCode\"</span><span class=\"p\">:</span><span class=\"s2\">\"35446\"</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"nl\">\"transactions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">      </span><span class=\"p\">{</span><span class=\"w\">       </span><span class=\"nl\">\"accountNumber\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">829433</span><span class=\"p\">,</span><span class=\"w\">       </span><span class=\"nl\">\"transactionDate\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2010-10-14 05:48:59\"</span><span class=\"p\">,</span><span class=\"w\">       </span><span class=\"nl\">\"amount\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">26.08</span><span class=\"w\">      </span><span class=\"p\">}</span><span class=\"w\">    </span><span class=\"p\">]</span><span class=\"w\">  </span><span class=\"p\">}</span><span class=\"w\"></span><span class=\"p\">]</span><span class=\"w\"></span></code></pre></div></div><p><code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ìŠ¤í”„ë§ ë°°ì¹˜ê°€ ì œê³µí•˜ëŠ” builderë¥¼ ì‚¬ìš©í•œë‹¤. ë¹Œë”ì—ëŠ” ì„¸ ê°€ì§€ ì˜ì¡´ì„±ì´ í•„ìš”í•˜ë‹¤.</p><ul>  <li>batch name</li>  <li><code class=\"language-plaintext highlighter-rouge\">JsonObjectReader</code></li>  <li>ì½ì„ ë¦¬ì†ŒìŠ¤</li></ul><p><code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ì˜ ë‹¤ë¥¸ êµ¬ì„± í•­ëª©ì—ëŠ” ì…ë ¥ì´ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸(strict.ê¸°ë³¸ê°’ true), ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸(saveState) í˜„ì¬ ItemCountê°€ ìˆë‹¤.</p><p><strong>íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” <code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code></strong></p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nd\">@Configuration</span><span class=\"kd\">class</span> <span class=\"nc\">TestReader</span> <span class=\"p\">{</span>    <span class=\"nd\">@Bean</span>    <span class=\"nd\">@StepScope</span>    <span class=\"k\">fun</span> <span class=\"nf\">customerFileReader</span><span class=\"p\">(</span>        <span class=\"nd\">@Value</span><span class=\"p\">(</span><span class=\"s\">\"#{jobParameters['customerFile']}\"</span><span class=\"p\">)</span> <span class=\"n\">inputFile</span><span class=\"p\">:</span> <span class=\"nc\">Resource</span>    <span class=\"p\">):</span> <span class=\"nc\">JsonItemReader</span><span class=\"p\">&lt;</span><span class=\"nc\">Customer</span><span class=\"p\">&gt;</span> <span class=\"p\">{</span>        <span class=\"kd\">val</span> <span class=\"py\">objectMapper</span> <span class=\"p\">=</span> <span class=\"nc\">ObjectMapper</span><span class=\"p\">()</span>        <span class=\"n\">objectMapper</span><span class=\"p\">.</span><span class=\"n\">dateFormat</span> <span class=\"p\">=</span> <span class=\"nc\">SimpleDateFormat</span><span class=\"p\">(</span><span class=\"s\">\"yyyy-MM-dd HH:mm:ss\"</span><span class=\"p\">)</span>        <span class=\"kd\">val</span> <span class=\"py\">jsonObjectReader</span><span class=\"p\">:</span> <span class=\"nc\">JacksonJsonObjectReader</span><span class=\"p\">&lt;</span><span class=\"nc\">Customer</span><span class=\"p\">&gt;</span> <span class=\"p\">=</span>            <span class=\"nc\">JacksonJsonObjectReader</span><span class=\"p\">(</span><span class=\"nc\">Customer</span><span class=\"o\">::</span><span class=\"k\">class</span><span class=\"p\">.</span><span class=\"n\">java</span><span class=\"p\">)</span>        <span class=\"n\">jsonObjectReader</span><span class=\"p\">.</span><span class=\"nf\">setMapper</span><span class=\"p\">(</span><span class=\"n\">objectMapper</span><span class=\"p\">)</span>        <span class=\"k\">return</span> <span class=\"nc\">JsonItemReaderBuilder</span><span class=\"p\">&lt;</span><span class=\"nc\">Customer</span><span class=\"p\">&gt;()</span>            <span class=\"p\">.</span><span class=\"nf\">name</span><span class=\"p\">(</span><span class=\"s\">\"customerFileReader\"</span><span class=\"p\">)</span>            <span class=\"p\">.</span><span class=\"nf\">jsonObjectReader</span><span class=\"p\">(</span><span class=\"n\">jsonObjectReader</span><span class=\"p\">)</span>            <span class=\"p\">.</span><span class=\"nf\">resource</span><span class=\"p\">(</span><span class=\"n\">inputFile</span><span class=\"p\">)</span>            <span class=\"p\">.</span><span class=\"nf\">build</span><span class=\"p\">()</span>    <span class=\"p\">}</span><span class=\"p\">}</span></code></pre></div></div><p>ë¨¼ì € <code class=\"language-plaintext highlighter-rouge\">ObjectMapper</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. <code class=\"language-plaintext highlighter-rouge\">ObjectMapper</code> í´ë˜ìŠ¤ëŠ” Jacksonì´ JSONì„ ì½ê³  ì“°ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ì£¼ìš” í´ë˜ìŠ¤ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œí•  ë•Œ ëŒ€ë¶€ë¶„ <code class=\"language-plaintext highlighter-rouge\">ObjectMapper</code> ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•  í•„ìš”ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ì˜ˆì œì—ì„œëŠ” ì…ë ¥ íŒŒì¼ì˜ ë‚ ì§œ í˜•ì‹ì„ ì§€ì •í•´ì•¼ í•œë‹¤. ì¦‰, ì‚¬ìš©í•˜ë ¤ëŠ” ObjectMapperë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ì•¼ í•œë‹¤.</p><ol>  <li><code class=\"language-plaintext highlighter-rouge\">ObjectMapper</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.    <ol>      <li>ì…ë ¥ íŒŒì¼ì˜ <code class=\"language-plaintext highlighter-rouge\">transactionDate</code> ë¥¼ ì²˜ë¦¬í•  ë‚ ì§œ í˜•ì‹ì„ ì§€ì •í•œë‹¤.</li>      <li>ì´ì–´ì„œ <code class=\"language-plaintext highlighter-rouge\">JacksonJsonObjectReader</code> ë¥¼ ìƒì„±í•œë‹¤.        <ol>          <li>ì´ë•Œ ë‘ ê°€ì§€ ì˜ì¡´ì„±ì´ í•„ìš”í•˜ë‹¤.            <ol>              <li>ë°˜í™˜í•  í´ë˜ìŠ¤(<code class=\"language-plaintext highlighter-rouge\">Customer</code>)</li>              <li>ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ <code class=\"language-plaintext highlighter-rouge\">ObjectMapper</code>                <ol>                  <li>ë§ˆì§€ë§‰ìœ¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ì„±í•œë‹¤.</li>                  <li>ìƒˆë¡œìš´ <code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ë¥¼ ìƒì„±í•œ ë’¤ ì´ë¦„, <code class=\"language-plaintext highlighter-rouge\">JsonObjectReader</code> ê°ì²´, ì½ì–´ë“¤ì¼ ë¦¬ì†ŒìŠ¤ë¥¼ êµ¬ì„±í–ˆë‹¤. ê·¸ë¦¬ê³  build ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ <code class=\"language-plaintext highlighter-rouge\">JsonItemReader</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.</li>                </ol>              </li>            </ol>          </li>        </ol>      </li>    </ol>  </li></ol><p>ì°¸ê³ : ìŠ¤í”„ë§ ë°°ì¹˜ ì™„ë²½ê°€ì´ë“œ</p>",
            "url": "https://cocodori.github.io/2022/02/08/spring-batch-jsonitemreader",
            
            
            
            
            
            "date_published": "2022-02-08T00:00:00+01:00",
            "date_modified": "2022-02-08T00:00:00+01:00",
            
                "author":  {
                "name": "Hoon",
                "url": null,
                "avatar": null
                }
                
            
        },
    
        {
            "id": "https://cocodori.github.io/2022/02/07/effective-kotlin-item5-%EC%98%88%EC%99%B8%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%9C%ED%95%9C%EC%9D%84-%EA%B1%B8%EC%96%B4%EB%9D%BC",
            "title": "Effective Kotlin Item5 ì˜ˆì™¸ë¥¼ í™œìš©í•´ ì½”ë“œì— ì œí•œì„ ê±¸ì–´ë¼",
            "summary": "í™•ì‹¤í•˜ê²Œ ì–´ë–¤ í˜•íƒœë¡œ ë™ì‘í•´ì•¼ í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´ ì˜ˆì™¸ë¥¼ í™œìš©í•´ ì œí•œì„ ê±°ëŠ” ê²Œ ì¢‹ë‹¤",
            "content_text": "ìš”ì•½í™•ì‹¤í•˜ê²Œ ì–´ë–¤ í˜•íƒœë¡œ ë™ì‘í•´ì•¼ í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´, ì˜ˆì™¸ë¥¼ í™œìš©í•´ ì œí•œì„ ê±°ëŠ” ê²Œ ì¢‹ë‹¤.ì½”í‹€ë¦°ì€ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ  require  check  assert  return or throwì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” Elivs operatorì˜ˆì‹œ//Stack&lt;T&gt;fun pop(num: Int = 1): List&lt;T&gt; {\trequire(num &lt;= size) { â€œCannot remove more elements than current sizeâ€ }\tcheck(isOpen) {â€œcannot pop from closed stackâ€}\tval ret = collection.take(num)\tcollection = collection.drop(num)\tassert(ret.size == num)\treturn ret}ì´ë ‡ê²Œ ì œí•œì„ ê±¸ë©´ ë‹¤ì–‘í•œ ì´ì ì´ ìˆìŒ  ë¬¸ì„œë¥¼ ì½ì§€ ì•Šì•„ë„ ë¬¸ì œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  ë¬¸ì œê°€ ìˆì„ ê²½ìš° í•¨ìˆ˜ê°€ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë™ì‘ì„ í•˜ì§€ ì•Šê³  throwí•œë‹¤. ì´ëŸ° ì œí•œìœ¼ë¡œ ì¸í•´ì„œ ë¬¸ì œë¥¼ ë†“ì¹˜ì§€ ì•Šì„ ìˆ˜ ìˆê³  ì½”ë“œê°€ ë” ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ê²Œ ëœë‹¤.  ì½”ë“œê°€ ì–´ëŠ ì •ë„ ìì²´ì ìœ¼ë¡œ ê²€ì‚¬ëœë‹¤. ì´ì™€ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.  ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.Argumentí•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ íƒ€ì… ì‹œìŠ¤í…œì„ í™œìš©í•´ì„œ ì•„ê·œë¨¼íŠ¸ì— ì œí•œì„ ê±°ëŠ” ì½”ë“œë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤.ëª‡ ê°€ì§€ ì˜ˆ  ìˆ«ìë¥¼ ì•„ê·œë¨¼íŠ¸ë¡œ ë°›ì•„ì„œ íŒ©í† ë¦¬ì–¼ì„ ê³„ì‚°í•œë‹¤ë©´ ìˆ«ìëŠ” ì–‘ì˜ ì •ìˆ˜ì—¬ì•¼ í•œë‹¤.  ì¢Œí‘œë¥¼ ì•„ê·œë¨¼íŠ¸ë¡œ ë°›ì•„ì„œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì°¾ì„ ë•ŒëŠ” ë¹„ì–´ ìˆì§€ ì•Šì€ ì¢Œí‘œ ëª©ë¡ì´ í•„ìš”í•˜ë‹¤.  ì‚¬ìš©ìë¡œë¶€í„° ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥ë°›ì„ ë•ŒëŠ” ê°’ì´ ì…ë ¥ë˜ì–´ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.ì¼ë°˜ì ìœ¼ë¡œ ì´ëŸ° ì œí•œì„ ê±¸ ë•Œ require ë¥¼ ì‚¬ìš©í•¨. require ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šì„ ê²½ìš° IllegalArgumentException ë°œìƒ ì‹œí‚´.fun factorial(n: Int): Long {\trequire(n&gt;=0)\treturn if(n&lt;=1) 1 else factorial(n-1) * n}fun findClusters(points: List&lt;Point&gt;): List&lt;Cluster&gt; {\trequire(points.isNotEmpty())}fun sendEmail(user: User, message: String) {\trequireNotNull(user.email)\trequire(isValidEmail(user.email))}ì´ì™€ ê°™ì€ í˜•íƒœì˜ ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œëŠ” í•¨ìˆ˜ì˜ ê°€ì¥ ì•ë¶€ë¶„ì— ë°°ì¹˜ë˜ë¯€ë¡œ ì½ëŠ” ì‚¬ëŒë„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.require í•¨ìˆ˜ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•˜ë©´ ë¬´ì¡°ê±´ throwë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸ì— ì œí•œì„ ë¬´ì‹œí•  ìˆ˜ ì—†ë‹¤. ê·¸ë¦¬ê³  ë‹¤ìŒì²˜ëŸ¼ ì½”ë“œ ë¸”ë¡ì„ ì‚¬ìš©í•´ì„œ ì§€ì—° ë©”ì‹œì§€ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.fun factorial(n: Int): Long {\trequire(n&gt;=0) {â€œcannot calculate factorial of â€¦.â€œ }\treturn if(n&lt;=1) 1 else factorial(n-1) * n}ìƒíƒœì–´ë–¤ êµ¬ì²´ì ì¸ ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œë§Œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤.  ì–´ë–¤ ê°ì²´ê°€ ë¯¸ë¦¬ ì´ˆê¸°í™”ë˜ì–´ ìˆì–´ì•¼ë§Œ ì²˜ë¦¬ë¥¼ í•˜ê³  ì‹¶ì€ í•¨ìˆ˜  ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í–ˆì„ ë•Œë§Œ ì²˜ë¦¬í•˜ê²Œ í•˜ê³  ì‹¶ì€ í•¨ìˆ˜  ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‹œì ì— ì‚¬ìš©í•˜ê³  ì‹¶ì€ í•¨ìˆ˜ìƒíƒœì™€ ê´€ë ¨ëœ ì œí•œì„ ê±¸ ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ check í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.fun speak(text: String) {\tcheck(isInitialize)\t//â€¦}fun getUserInfo(): UserInfo {\tcheckNotNull(token)\t//â€¦}fun next(): T {\tcheck(isOpen)}check í•¨ìˆ˜ëŠ” ì§€ì •ëœ ì˜ˆì¸¡ì„ ë§Œì¡±í•˜ì§€ ëª»í•  ë•Œ IllegalStatementException ì„ throw í•œë‹¤. ìƒíƒœê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì§€ì—° ë©”ì‹œì§€ëŠ” require ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì½”ë“œ ë¸”ë¡ì„ ì‚¬ìš©í•´ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ ì „ì²´ì— ëŒ€í•œ ì–´ë–¤ ì˜ˆì¸¡ì´ ìˆì„ ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ requireë¸”ë¡ì„ ë°°ì¹˜í•˜ê³  ê·¸ ë’¤ì— check ë¥¼ ë°°ì¹˜í•œë‹¤.ì´ëŸ° í™•ì¸ì€ ì‚¬ìš©ìê°€ ê·œì•½ì„ ì–´ê¸°ê³  ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ëŠ” ê³³ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤ê³  ì˜ì‹¬ë  ë•Œ ì‚¬ìš©í•œë‹¤.ìŠ¤ìŠ¤ë¡œ êµ¬í˜„í•œ ë‚´ìš©ì„ í™•ì¸í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ assert ë¼ëŠ” ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.Assertí•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆë‹¤ë©´ í™•ì‹¤í•˜ê²Œ ì°¸ì„ ë‚¼ ìˆ˜ ìˆëŠ” ì½”ë“œë“¤ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ í•¨ìˆ˜ê°€ 10ê°œì˜ ìš”ì†Œë¥¼ ë¦¬í„´í•œë‹¤ë©´, â€˜í•¨ìˆ˜ê°€ 10ê°œì˜ ìš”ì†Œë¥¼ ë¦¬í„´í•˜ëŠ”ê°€?â€™ë¼ëŠ” ì½”ë“œëŠ” ì°¸ì´ë‹¤. ê·¸ëŸ°ë° í•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. ì²˜ìŒë¶€í„° êµ¬í˜„ì„ ì˜ëª»í–ˆì„ ìˆ˜ë„ ìˆê³ , í•´ë‹¹ ì½”ë“œë¥¼ ì´í›„ì— ë‹¤ë¥¸ ëˆ„ê°€ ë³€ê²½í•´ì„œ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²ƒì¼ ìˆ˜ë„ ìˆë‹¤. ì´ëŸ° êµ¬í˜„ ë¬¸ì œë¡œ ë°œìƒí•˜ëŠ” ì¶”ê°€ì ì¸ ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ë ¤ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤.Class StackTest {\t@Test\tfun â€˜Stack pops correct number of elementsâ€™() {\t\tval stack = Stack(20) { it }\t\tval ret = tack.pop(10)\t\tassertEquals(10, ret.size)\t}}ì´ ì½”ë“œëŠ” ìŠ¤íƒì´ 10ê°œì˜ ìš”ì†Œë¥¼ popí•˜ë©´ 10ê°œì˜ ìš”ì†Œê°€ ë‚˜ì˜¨ë‹¤ëŠ” ë³´í¸ì ì¸ ì‚¬ì‹¤ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.í•˜ì§€ë§Œ í•˜ë‚˜ì˜ ê²½ìš°ë§Œ í…ŒìŠ¤íŠ¸í•´ì„œëŠ” ëª¨ë“  ìƒí™©ì—ì„œ ê´œì°®ì„ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ëª¨ë“  pop í˜¸ì¶œ ìœ„ì¹˜ì—ì„œ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë„ ì¢‹ì„ ê²ƒì´ë‹¤.fun pop(num: Int = 1): List&lt;T&gt; {\t//â€¦\tassert(ret.size == num)\treturn ret}ì´ëŸ° ì¡°ê±´ì€ ì½”í‹€ë¦°/JVMì—ì„œë§Œ í™œì„±í™”ë˜ë©°, -ea JVM ì˜µì…˜ì„ í™œì„±í™”í•´ì•¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì½”ë“œë„ ì½”ë“œê°€ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸í•  ë•Œë§Œ í™œì„±í™”ë˜ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ì‚¬ìš©ìê°€ ì•Œì•„ì°¨ë¦´ ìˆ˜ ì—†ë‹¤.ë§Œì•½ ì´ ì½”ë“œê°€ ì‹¬ê°í•œ ê²°ê³¼ë¥¼ ì´ˆë˜í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´ assert ëŒ€ì‹  check ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤.assert ì¥ì   Assert ê³„ì—´ í•¨ìˆ˜ëŠ” ì½”ë“œë¥¼ ìì²´ ì ê²€í•˜ë©° ë” íš¨ìœ¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.  íŠ¹ì • ìƒí™©ì´ ì•„ë‹Œ ëª¨ë“  ìƒí™©ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆë‹¤.  ì‹¤í–‰ ì‹œì ì— ì •í™•í•˜ê²Œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  ì‹¤ì œ ì½”ë“œê°€ ë” ë¹ ë¥¸ ì‹œì ì— ì‹¤íŒ¨í•˜ê²Œ ë§Œë“ ë‹¤. ë”°ë¼ì„œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë™ì‘ì´ ì–¸ì œ ì–´ë””ì„œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.ì •ë¦¬  require : ì•„ê·œë¨¼íŠ¸ì™€ ê´€ë ¨ëœ ì˜ˆì¸¡ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•  check : ìƒíƒœì™€ ê´€ë ¨ëœ ì˜ˆì¸¡ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•  assert : í…ŒìŠ¤íŠ¸ ëª¨ë“œì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•  returnê³¼ throw ì™€ í•¨ê»˜ Elvis ì—°ì‚°ì ì‚¬ìš©í•˜ê¸°",
            "content_html": "<h3 id=\"ìš”ì•½\">ìš”ì•½</h3><p>í™•ì‹¤í•˜ê²Œ ì–´ë–¤ í˜•íƒœë¡œ ë™ì‘í•´ì•¼ í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´, ì˜ˆì™¸ë¥¼ í™œìš©í•´ ì œí•œì„ ê±°ëŠ” ê²Œ ì¢‹ë‹¤.ì½”í‹€ë¦°ì€ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ</p><ul>  <li>require</li>  <li>check</li>  <li>assert</li>  <li>return or throwì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” Elivs operator</li></ul><p><strong>ì˜ˆì‹œ</strong></p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\">//Stack&lt;T&gt;</span><span class=\"k\">fun</span> <span class=\"nf\">pop</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">:</span> <span class=\"nc\">Int</span> <span class=\"p\">=</span> <span class=\"mi\">1</span><span class=\"p\">):</span> <span class=\"nc\">List</span><span class=\"p\">&lt;</span><span class=\"nc\">T</span><span class=\"p\">&gt;</span> <span class=\"p\">{</span>\t<span class=\"nf\">require</span><span class=\"p\">(</span><span class=\"n\">num</span> <span class=\"p\">&lt;=</span> <span class=\"n\">size</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"err\">â€œ</span><span class=\"nc\">Cannot</span> <span class=\"n\">remove</span> <span class=\"n\">more</span> <span class=\"n\">elements</span> <span class=\"n\">than</span> <span class=\"n\">current</span> <span class=\"n\">size</span><span class=\"err\">â€</span> <span class=\"p\">}</span>\t<span class=\"nf\">check</span><span class=\"p\">(</span><span class=\"n\">isOpen</span><span class=\"p\">)</span> <span class=\"p\">{</span><span class=\"err\">â€œ</span><span class=\"n\">cannot</span> <span class=\"n\">pop</span> <span class=\"n\">from</span> <span class=\"n\">closed</span> <span class=\"n\">stack</span><span class=\"err\">â€</span><span class=\"p\">}</span>\t<span class=\"kd\">val</span> <span class=\"py\">ret</span> <span class=\"p\">=</span> <span class=\"n\">collection</span><span class=\"p\">.</span><span class=\"nf\">take</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\t<span class=\"n\">collection</span> <span class=\"p\">=</span> <span class=\"n\">collection</span><span class=\"p\">.</span><span class=\"nf\">drop</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\t<span class=\"nf\">assert</span><span class=\"p\">(</span><span class=\"n\">ret</span><span class=\"p\">.</span><span class=\"n\">size</span> <span class=\"p\">==</span> <span class=\"n\">num</span><span class=\"p\">)</span>\t<span class=\"k\">return</span> <span class=\"n\">ret</span><span class=\"p\">}</span></code></pre></div></div><p>ì´ë ‡ê²Œ ì œí•œì„ ê±¸ë©´ ë‹¤ì–‘í•œ ì´ì ì´ ìˆìŒ</p><ul>  <li>ë¬¸ì„œë¥¼ ì½ì§€ ì•Šì•„ë„ ë¬¸ì œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>  <li>ë¬¸ì œê°€ ìˆì„ ê²½ìš° í•¨ìˆ˜ê°€ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë™ì‘ì„ í•˜ì§€ ì•Šê³  throwí•œë‹¤. ì´ëŸ° ì œí•œìœ¼ë¡œ ì¸í•´ì„œ ë¬¸ì œë¥¼ ë†“ì¹˜ì§€ ì•Šì„ ìˆ˜ ìˆê³  ì½”ë“œê°€ ë” ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ê²Œ ëœë‹¤.</li>  <li>ì½”ë“œê°€ ì–´ëŠ ì •ë„ ìì²´ì ìœ¼ë¡œ ê²€ì‚¬ëœë‹¤. ì´ì™€ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</li>  <li>ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.</li></ul><h2 id=\"argument\">Argument</h2><p>í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ íƒ€ì… ì‹œìŠ¤í…œì„ í™œìš©í•´ì„œ ì•„ê·œë¨¼íŠ¸ì— ì œí•œì„ ê±°ëŠ” ì½”ë“œë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤.<strong>ëª‡ ê°€ì§€ ì˜ˆ</strong></p><ul>  <li>ìˆ«ìë¥¼ ì•„ê·œë¨¼íŠ¸ë¡œ ë°›ì•„ì„œ íŒ©í† ë¦¬ì–¼ì„ ê³„ì‚°í•œë‹¤ë©´ ìˆ«ìëŠ” ì–‘ì˜ ì •ìˆ˜ì—¬ì•¼ í•œë‹¤.</li>  <li>ì¢Œí‘œë¥¼ ì•„ê·œë¨¼íŠ¸ë¡œ ë°›ì•„ì„œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì°¾ì„ ë•ŒëŠ” ë¹„ì–´ ìˆì§€ ì•Šì€ ì¢Œí‘œ ëª©ë¡ì´ í•„ìš”í•˜ë‹¤.</li>  <li>ì‚¬ìš©ìë¡œë¶€í„° ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥ë°›ì„ ë•ŒëŠ” ê°’ì´ ì…ë ¥ë˜ì–´ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.ì¼ë°˜ì ìœ¼ë¡œ ì´ëŸ° ì œí•œì„ ê±¸ ë•Œ <code class=\"language-plaintext highlighter-rouge\">require</code> ë¥¼ ì‚¬ìš©í•¨. <code class=\"language-plaintext highlighter-rouge\">require</code> ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šì„ ê²½ìš° <code class=\"language-plaintext highlighter-rouge\">IllegalArgumentException</code> ë°œìƒ ì‹œí‚´.</li></ul><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">fun</span> <span class=\"nf\">factorial</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nc\">Int</span><span class=\"p\">):</span> <span class=\"nc\">Long</span> <span class=\"p\">{</span>\t<span class=\"nf\">require</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">&gt;=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\t<span class=\"k\">return</span> <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">&lt;=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"mi\">1</span> <span class=\"k\">else</span> <span class=\"nf\">factorial</span><span class=\"p\">(</span><span class=\"n\">n-1</span><span class=\"p\">)</span> <span class=\"p\">*</span> <span class=\"n\">n</span><span class=\"p\">}</span><span class=\"k\">fun</span> <span class=\"nf\">findClusters</span><span class=\"p\">(</span><span class=\"n\">points</span><span class=\"p\">:</span> <span class=\"nc\">List</span><span class=\"p\">&lt;</span><span class=\"nc\">Point</span><span class=\"p\">&gt;):</span> <span class=\"nc\">List</span><span class=\"p\">&lt;</span><span class=\"nc\">Cluster</span><span class=\"p\">&gt;</span> <span class=\"p\">{</span>\t<span class=\"nf\">require</span><span class=\"p\">(</span><span class=\"n\">points</span><span class=\"p\">.</span><span class=\"nf\">isNotEmpty</span><span class=\"p\">())</span><span class=\"p\">}</span><span class=\"k\">fun</span> <span class=\"nf\">sendEmail</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">:</span> <span class=\"nc\">User</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">:</span> <span class=\"nc\">String</span><span class=\"p\">)</span> <span class=\"p\">{</span>\t<span class=\"nf\">requireNotNull</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">.</span><span class=\"n\">email</span><span class=\"p\">)</span>\t<span class=\"nf\">require</span><span class=\"p\">(</span><span class=\"nf\">isValidEmail</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">.</span><span class=\"n\">email</span><span class=\"p\">))</span><span class=\"p\">}</span></code></pre></div></div><p>ì´ì™€ ê°™ì€ í˜•íƒœì˜ ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œëŠ” í•¨ìˆ˜ì˜ ê°€ì¥ ì•ë¶€ë¶„ì— ë°°ì¹˜ë˜ë¯€ë¡œ ì½ëŠ” ì‚¬ëŒë„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<code class=\"language-plaintext highlighter-rouge\">require</code> í•¨ìˆ˜ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•˜ë©´ ë¬´ì¡°ê±´ throwë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸ì— ì œí•œì„ ë¬´ì‹œí•  ìˆ˜ ì—†ë‹¤. ê·¸ë¦¬ê³  ë‹¤ìŒì²˜ëŸ¼ ì½”ë“œ ë¸”ë¡ì„ ì‚¬ìš©í•´ì„œ ì§€ì—° ë©”ì‹œì§€ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.</p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">fun</span> <span class=\"nf\">factorial</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nc\">Int</span><span class=\"p\">):</span> <span class=\"nc\">Long</span> <span class=\"p\">{</span>\t<span class=\"nf\">require</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">&gt;=</span><span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span><span class=\"err\">â€œ</span><span class=\"n\">cannot</span> <span class=\"n\">calculate</span> <span class=\"n\">factorial</span> <span class=\"n\">of</span> <span class=\"err\">â€¦</span><span class=\"p\">.</span><span class=\"err\">â€œ</span> <span class=\"p\">}</span>\t<span class=\"k\">return</span> <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">&lt;=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"mi\">1</span> <span class=\"k\">else</span> <span class=\"nf\">factorial</span><span class=\"p\">(</span><span class=\"n\">n-1</span><span class=\"p\">)</span> <span class=\"p\">*</span> <span class=\"n\">n</span><span class=\"p\">}</span></code></pre></div></div><h2 id=\"ìƒíƒœ\">ìƒíƒœ</h2><p>ì–´ë–¤ êµ¬ì²´ì ì¸ ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œë§Œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤.</p><ul>  <li>ì–´ë–¤ ê°ì²´ê°€ ë¯¸ë¦¬ ì´ˆê¸°í™”ë˜ì–´ ìˆì–´ì•¼ë§Œ ì²˜ë¦¬ë¥¼ í•˜ê³  ì‹¶ì€ í•¨ìˆ˜</li>  <li>ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í–ˆì„ ë•Œë§Œ ì²˜ë¦¬í•˜ê²Œ í•˜ê³  ì‹¶ì€ í•¨ìˆ˜</li>  <li>ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‹œì ì— ì‚¬ìš©í•˜ê³  ì‹¶ì€ í•¨ìˆ˜</li></ul><p>ìƒíƒœì™€ ê´€ë ¨ëœ ì œí•œì„ ê±¸ ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">check</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">fun</span> <span class=\"nf\">speak</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">:</span> <span class=\"nc\">String</span><span class=\"p\">)</span> <span class=\"p\">{</span>\t<span class=\"nf\">check</span><span class=\"p\">(</span><span class=\"n\">isInitialize</span><span class=\"p\">)</span>\t<span class=\"c1\">//â€¦</span><span class=\"p\">}</span><span class=\"k\">fun</span> <span class=\"nf\">getUserInfo</span><span class=\"p\">():</span> <span class=\"nc\">UserInfo</span> <span class=\"p\">{</span>\t<span class=\"nf\">checkNotNull</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\t<span class=\"c1\">//â€¦</span><span class=\"p\">}</span><span class=\"k\">fun</span> <span class=\"nf\">next</span><span class=\"p\">():</span> <span class=\"nc\">T</span> <span class=\"p\">{</span>\t<span class=\"nf\">check</span><span class=\"p\">(</span><span class=\"n\">isOpen</span><span class=\"p\">)</span><span class=\"p\">}</span></code></pre></div></div><p><code class=\"language-plaintext highlighter-rouge\">check</code> í•¨ìˆ˜ëŠ” ì§€ì •ëœ ì˜ˆì¸¡ì„ ë§Œì¡±í•˜ì§€ ëª»í•  ë•Œ <code class=\"language-plaintext highlighter-rouge\">IllegalStatementException</code> ì„ throw í•œë‹¤. ìƒíƒœê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì§€ì—° ë©”ì‹œì§€ëŠ” <code class=\"language-plaintext highlighter-rouge\">require</code> ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì½”ë“œ ë¸”ë¡ì„ ì‚¬ìš©í•´ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ ì „ì²´ì— ëŒ€í•œ ì–´ë–¤ ì˜ˆì¸¡ì´ ìˆì„ ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">require</code>ë¸”ë¡ì„ ë°°ì¹˜í•˜ê³  ê·¸ ë’¤ì— <code class=\"language-plaintext highlighter-rouge\">check</code> ë¥¼ ë°°ì¹˜í•œë‹¤.ì´ëŸ° í™•ì¸ì€ ì‚¬ìš©ìê°€ ê·œì•½ì„ ì–´ê¸°ê³  ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ëŠ” ê³³ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤ê³  ì˜ì‹¬ë  ë•Œ ì‚¬ìš©í•œë‹¤.</p><p>ìŠ¤ìŠ¤ë¡œ êµ¬í˜„í•œ ë‚´ìš©ì„ í™•ì¸í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-plaintext highlighter-rouge\">assert</code> ë¼ëŠ” ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p><h2 id=\"assert\">Assert</h2><p>í•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆë‹¤ë©´ í™•ì‹¤í•˜ê²Œ ì°¸ì„ ë‚¼ ìˆ˜ ìˆëŠ” ì½”ë“œë“¤ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ í•¨ìˆ˜ê°€ 10ê°œì˜ ìš”ì†Œë¥¼ ë¦¬í„´í•œë‹¤ë©´, â€˜í•¨ìˆ˜ê°€ 10ê°œì˜ ìš”ì†Œë¥¼ ë¦¬í„´í•˜ëŠ”ê°€?â€™ë¼ëŠ” ì½”ë“œëŠ” ì°¸ì´ë‹¤. ê·¸ëŸ°ë° í•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. ì²˜ìŒë¶€í„° êµ¬í˜„ì„ ì˜ëª»í–ˆì„ ìˆ˜ë„ ìˆê³ , í•´ë‹¹ ì½”ë“œë¥¼ ì´í›„ì— ë‹¤ë¥¸ ëˆ„ê°€ ë³€ê²½í•´ì„œ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²ƒì¼ ìˆ˜ë„ ìˆë‹¤. ì´ëŸ° êµ¬í˜„ ë¬¸ì œë¡œ ë°œìƒí•˜ëŠ” ì¶”ê°€ì ì¸ ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ë ¤ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤.</p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nc\">Class</span> <span class=\"nc\">StackTest</span> <span class=\"p\">{</span>\t<span class=\"nd\">@Test</span>\t<span class=\"k\">fun</span> <span class=\"err\">â€˜</span><span class=\"nf\">Stack</span> <span class=\"n\">pops</span> <span class=\"n\">correct</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">elements</span><span class=\"err\">â€™</span><span class=\"p\">()</span> <span class=\"p\">{</span>\t\t<span class=\"kd\">val</span> <span class=\"py\">stack</span> <span class=\"p\">=</span> <span class=\"nc\">Stack</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"n\">it</span> <span class=\"p\">}</span>\t\t<span class=\"kd\">val</span> <span class=\"py\">ret</span> <span class=\"p\">=</span> <span class=\"n\">tack</span><span class=\"p\">.</span><span class=\"nf\">pop</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\t\t<span class=\"nf\">assertEquals</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">ret</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">)</span>\t<span class=\"p\">}</span><span class=\"p\">}</span></code></pre></div></div><p>ì´ ì½”ë“œëŠ” ìŠ¤íƒì´ 10ê°œì˜ ìš”ì†Œë¥¼ popí•˜ë©´ 10ê°œì˜ ìš”ì†Œê°€ ë‚˜ì˜¨ë‹¤ëŠ” ë³´í¸ì ì¸ ì‚¬ì‹¤ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.í•˜ì§€ë§Œ í•˜ë‚˜ì˜ ê²½ìš°ë§Œ í…ŒìŠ¤íŠ¸í•´ì„œëŠ” ëª¨ë“  ìƒí™©ì—ì„œ ê´œì°®ì„ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ëª¨ë“  pop í˜¸ì¶œ ìœ„ì¹˜ì—ì„œ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë„ ì¢‹ì„ ê²ƒì´ë‹¤.</p><div class=\"language-kotlin highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">fun</span> <span class=\"nf\">pop</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">:</span> <span class=\"nc\">Int</span> <span class=\"p\">=</span> <span class=\"mi\">1</span><span class=\"p\">):</span> <span class=\"nc\">List</span><span class=\"p\">&lt;</span><span class=\"nc\">T</span><span class=\"p\">&gt;</span> <span class=\"p\">{</span>\t<span class=\"c1\">//â€¦</span>\t<span class=\"nf\">assert</span><span class=\"p\">(</span><span class=\"n\">ret</span><span class=\"p\">.</span><span class=\"n\">size</span> <span class=\"p\">==</span> <span class=\"n\">num</span><span class=\"p\">)</span>\t<span class=\"k\">return</span> <span class=\"n\">ret</span><span class=\"p\">}</span></code></pre></div></div><p>ì´ëŸ° ì¡°ê±´ì€ ì½”í‹€ë¦°/JVMì—ì„œë§Œ í™œì„±í™”ë˜ë©°, -ea JVM ì˜µì…˜ì„ í™œì„±í™”í•´ì•¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì½”ë“œë„ ì½”ë“œê°€ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸í•  ë•Œë§Œ í™œì„±í™”ë˜ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ì‚¬ìš©ìê°€ ì•Œì•„ì°¨ë¦´ ìˆ˜ ì—†ë‹¤.ë§Œì•½ ì´ ì½”ë“œê°€ ì‹¬ê°í•œ ê²°ê³¼ë¥¼ ì´ˆë˜í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´ <code class=\"language-plaintext highlighter-rouge\">assert</code> ëŒ€ì‹  <code class=\"language-plaintext highlighter-rouge\">check</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤.</p><p><code class=\"language-plaintext highlighter-rouge\">assert</code> ì¥ì </p><ul>  <li>Assert ê³„ì—´ í•¨ìˆ˜ëŠ” ì½”ë“œë¥¼ ìì²´ ì ê²€í•˜ë©° ë” íš¨ìœ¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.</li>  <li>íŠ¹ì • ìƒí™©ì´ ì•„ë‹Œ ëª¨ë“  ìƒí™©ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆë‹¤.</li>  <li>ì‹¤í–‰ ì‹œì ì— ì •í™•í•˜ê²Œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>  <li>ì‹¤ì œ ì½”ë“œê°€ ë” ë¹ ë¥¸ ì‹œì ì— ì‹¤íŒ¨í•˜ê²Œ ë§Œë“ ë‹¤. ë”°ë¼ì„œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë™ì‘ì´ ì–¸ì œ ì–´ë””ì„œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.</li></ul><h2 id=\"ì •ë¦¬\">ì •ë¦¬</h2><ul>  <li><code class=\"language-plaintext highlighter-rouge\">require</code> : ì•„ê·œë¨¼íŠ¸ì™€ ê´€ë ¨ëœ ì˜ˆì¸¡ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•</li>  <li><code class=\"language-plaintext highlighter-rouge\">check</code> : ìƒíƒœì™€ ê´€ë ¨ëœ ì˜ˆì¸¡ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•</li>  <li><code class=\"language-plaintext highlighter-rouge\">assert</code> : í…ŒìŠ¤íŠ¸ ëª¨ë“œì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë²”ìš©ì ì¸ ë°©ë²•</li>  <li><code class=\"language-plaintext highlighter-rouge\">return</code>ê³¼ <code class=\"language-plaintext highlighter-rouge\">throw</code> ì™€ í•¨ê»˜ Elvis ì—°ì‚°ì ì‚¬ìš©í•˜ê¸°</li></ul>",
            "url": "https://cocodori.github.io/2022/02/07/effective-kotlin-item5-%EC%98%88%EC%99%B8%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%9C%ED%95%9C%EC%9D%84-%EA%B1%B8%EC%96%B4%EB%9D%BC",
            
            
            
            
            
            "date_published": "2022-02-07T00:00:00+01:00",
            "date_modified": "2022-02-07T00:00:00+01:00",
            
                "author":  {
                "name": "Hoon",
                "url": null,
                "avatar": null
                }
                
            
        },
    
        {
            "id": "https://cocodori.github.io/2022/02/06/%EC%9A%94%EC%95%BD-%ED%95%9C-%EA%B0%9C%EC%9D%98-%EB%A9%94%EC%86%8C%EB%93%9C%EB%A7%8C-%EA%B0%96%EB%8A%94-%EA%B3%84%EC%B8%B5%ED%98%95-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%8A%A4%ED%83%80%EC%9D%BC",
            "title": "ìš”ì•½ - í•œ ê°œì˜ ë©”ì†Œë“œë§Œ ê°–ëŠ” ê³„ì¸µí˜• íŒ¨í‚¤ì§€ ìŠ¤íƒ€ì¼",
            "summary": "ë°©ëŒ€í•œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì˜ ë‚˜ëˆŒ ìˆ˜ ìˆì„ê¹Œ?",
            "content_text": "ë°©ëŒ€í•œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì˜ ë‚˜ëˆŒ ìˆ˜ ìˆì„ê¹Œ? ê³ ë¯¼í•œ ì  ë§ì•˜ëŠ”ë° ìš°ì—°íˆ ì´ ê¸€ì„ ì½ì—ˆë‹¤. ê¸°íšŒê°€ ë˜ë©´ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ê³  ì‹¶ë‹¤.(ê¸°ë¡) í•œ ê°œì˜ ë©”ì†Œë“œë§Œ ê°–ëŠ” ê³„ì¸µí˜• ì»¨íŠ¸ë¡¤ëŸ¬/ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ ìŠ¤íƒ€ì¼ - ê¸°ê³„ì¸ê°„ John Gribìš”ì•½í•œ ê°œì˜ ë©”ì†Œë“œë§Œ ê°–ëŠ” ê³„ì¸µí˜• íŒ¨í‚¤ì§€ ìŠ¤íƒ€ì¼Java/Springì„ ì‚¬ìš©í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë‹¤ë³´ë©´ Controller-Service-Repository íŒ¨í‚¤ì§€ ì•ˆì—ì„œ ì˜ì›íˆ í—¤ë§¤ê³  ë‹¤ë‹ˆê²Œ ë¨. í”„ë¡œì íŠ¸ì— ìµìˆ™í•´ì§€ê¸° ì „ì—ëŠ” ë­ê°€ ì–´ë””ì— ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ.ê·¸ë˜ì„œ í•œ ê°€ì§€ ì‹¤í—˜ì„ í–ˆìŒ\t* ì§‘í•©ì˜ í¬í•¨ê´€ê³„ë¥¼ ê°•ë ¥íˆ ì˜ì‹í•œ ê³„ì¸µí˜• êµ¬ì¡°ë¡œ íŒ¨í‚¤ì§€ë¥¼ êµ¬ì„±\t* í•œ ê°€ì§€ ìš©ë„ë¥¼ ì•”ì‹œí•˜ëŠ” í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ í–‰ìœ„ì™€ ì±…ì„ì„ ì œí•œ(SRP)\t* ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ë•Œ public ë©”ì†Œë“œë¥¼ ë”± í•œ ê°€ì§€ë§Œ ê°€ì§€ë„ë¡ ë§Œë“¦Command, Queryë¥¼ ë¶„ë¦¬í•˜ë‹¤ê¸€ì“´ì´ê°€ ì‹ ì…ì¼ ë•ŒëŠ” BoardService  ê°™ì€ ê±¸ ë§Œë“¤ì–´ì„œ ëª¨ë“  ë©”ì†Œë“œë¥¼ ì‘¤ì…”ë„£ìŒ.ìˆ˜ë°± ë¼ì¸ì´ ë˜ëŠ” ë§¤ìš° ë¶ˆì•ˆí•œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ìƒì‚°í•´ëƒˆìŒ.ê·¸ëŸ¬ë‹¤ ì—°ì°¨ê°€ ì¢€ ìŒ“ì´ê³  Command(ë“±ë¡,ìˆ˜ì •,ì‚­ì œ), Query(ì¡°íšŒ)ë¡œ ë‚˜ëˆ”.\t* BoardCommandService\t* \u0010BoardQueryServiceí•˜ì§€ë§Œ ë°˜ìœ¼ë¡œ ìª¼ê°œì¡Œì„ ë¿ ë¹„ëŒ€í•˜ê³  ì—‰ë§ì´ê¸´ ë§ˆì°¬ê°€ì§€.SRPë¥¼ ì¤€ìˆ˜í•˜ì.ë¬¸ë“ SRPë¥¼ ê°•ë ¥í•˜ê²Œ ì§€í‚¨ë‹¤ë©´ ë” ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¦.ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ê°€ public ë©”ì†Œë“œë¥¼ í•˜ë‚˜ë§Œ ì„œë¹„ìŠ¤í•˜ë„ë¡ ì„¤ê³„í–ˆë”ë‹ˆ ìƒê°ë³´ë‹¤ ê´œì°®ì•˜ìŒ.í•´ë‹¹ í´ë˜ìŠ¤ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ íŒŒì¼ë„ ë©”ì†Œë“œ í•˜ë‚˜ë§Œì„ ì£¼ì œë¡œ í…ŒìŠ¤íŠ¸í•˜ë‹ˆ ì¢‹ì•˜ìŒ.ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì—ë¦­ì—ë°˜ìŠ¤ DDD ì±…ì„ ì°¸ê³ í•´  ***Service ë¼ê³  ë„¤ì´ë°í•˜ì§€ ì•Šê³  -er ë¡œ í–ˆìŒ.ì´ëŸ° ì‹.\t* BoardCreator\t* CommentCreator \t* CommentDeleterì´ë ‡ê²Œ ë³€ê²½í•˜ë‹ˆ ë°©ëŒ€í•œ BoardService ëŠ” CRUD ì˜¤í¼ë ˆì´ì…˜ ë‹¨ìœ„ë¡œ ì´˜ì´˜í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆì—ˆìŒ.\t* í´ë˜ìŠ¤ í•˜ë‚˜ê°€ 30ì¤„ì„ ë„˜ëŠ” ê²½ìš°ê°€ ë“œë¬¼ë‹¤\t* íŒŒì¼ ì—´ì–´ë³´ë©´ 5ì´ˆ ì•ˆì— ë­í•˜ëŠ” íŒŒì¼ì¸ì§€ ë°”ë¡œ íŒŒì•… ê°€ëŠ¥\t* í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì§‘ë„ ë†’ì•„ì§\t* íŒŒì¼ì´ ë§ì•„ì§€ê¸´ í•˜ë‚˜ í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•ŠìŒì†Œê·œëª¨ í”„ë¡œì íŠ¸ì— ì ìš©í–ˆê³  ì´ í”„ë¡œì íŠ¸ì—ëŠ” -Service ë¡œ ëë‚˜ëŠ” í´ë˜ìŠ¤ê°€ ë‹¨ í•˜ë‚˜ë„ ì—†ì—ˆìŒ.ì»¨íŠ¸ë¡¤ëŸ¬ë„ ë§ˆì°¬ê°€ì§€ë¡œ SRPë¥¼ ì¤€ìˆ˜í•˜ë„ë¡ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì„ ì„¤ì •í•¨ \t* ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ëŠ” API URI í•˜ë‚˜ë§Œ ë‹´ë‹¹í•œë‹¤ \t* URI ê²½ë¡œë¥¼ ê·¸ëŒ€ë¡œ íŒ¨í‚¤ì§€ ê²½ë¡œë¡œ ì‚¬ìš©í•œë‹¤URIê°€ /shop/product ë¼ê³  í•  ë•Œ íŒ¨í‚¤ì§€ë¥¼ web/shop/product ì´ëŸ° ì‹ìœ¼ë¡œ ë§Œë“¤ê³  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ ì•ˆì— ë°°ì¹˜.",
            "content_html": "<p>ë°©ëŒ€í•œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì˜ ë‚˜ëˆŒ ìˆ˜ ìˆì„ê¹Œ? ê³ ë¯¼í•œ ì  ë§ì•˜ëŠ”ë° ìš°ì—°íˆ ì´ ê¸€ì„ ì½ì—ˆë‹¤. ê¸°íšŒê°€ ë˜ë©´ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ê³  ì‹¶ë‹¤.</p><p><a href=\"https://johngrib.github.io/wiki/article/hierarchical-controller-package-structure/#fn:c-s-r-blame\">(ê¸°ë¡) í•œ ê°œì˜ ë©”ì†Œë“œë§Œ ê°–ëŠ” ê³„ì¸µí˜• ì»¨íŠ¸ë¡¤ëŸ¬/ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ ìŠ¤íƒ€ì¼ - ê¸°ê³„ì¸ê°„ John Grib</a></p><p><strong>ìš”ì•½</strong></p><h1 id=\"í•œ-ê°œì˜-ë©”ì†Œë“œë§Œ-ê°–ëŠ”-ê³„ì¸µí˜•-íŒ¨í‚¤ì§€-ìŠ¤íƒ€ì¼\">í•œ ê°œì˜ ë©”ì†Œë“œë§Œ ê°–ëŠ” ê³„ì¸µí˜• íŒ¨í‚¤ì§€ ìŠ¤íƒ€ì¼</h1><p>Java/Springì„ ì‚¬ìš©í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë‹¤ë³´ë©´ Controller-Service-Repository íŒ¨í‚¤ì§€ ì•ˆì—ì„œ ì˜ì›íˆ í—¤ë§¤ê³  ë‹¤ë‹ˆê²Œ ë¨. í”„ë¡œì íŠ¸ì— ìµìˆ™í•´ì§€ê¸° ì „ì—ëŠ” ë­ê°€ ì–´ë””ì— ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ.</p><p>ê·¸ë˜ì„œ í•œ ê°€ì§€ ì‹¤í—˜ì„ í–ˆìŒ\t* ì§‘í•©ì˜ í¬í•¨ê´€ê³„ë¥¼ ê°•ë ¥íˆ ì˜ì‹í•œ ê³„ì¸µí˜• êµ¬ì¡°ë¡œ íŒ¨í‚¤ì§€ë¥¼ êµ¬ì„±\t* í•œ ê°€ì§€ ìš©ë„ë¥¼ ì•”ì‹œí•˜ëŠ” í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ í–‰ìœ„ì™€ ì±…ì„ì„ ì œí•œ(SRP)\t* ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ë•Œ public ë©”ì†Œë“œë¥¼ ë”± í•œ ê°€ì§€ë§Œ ê°€ì§€ë„ë¡ ë§Œë“¦</p><h2 id=\"command-queryë¥¼-ë¶„ë¦¬í•˜ë‹¤\">Command, Queryë¥¼ ë¶„ë¦¬í•˜ë‹¤</h2><p>ê¸€ì“´ì´ê°€ ì‹ ì…ì¼ ë•ŒëŠ” <code class=\"language-plaintext highlighter-rouge\">BoardService</code>  ê°™ì€ ê±¸ ë§Œë“¤ì–´ì„œ ëª¨ë“  ë©”ì†Œë“œë¥¼ ì‘¤ì…”ë„£ìŒ.ìˆ˜ë°± ë¼ì¸ì´ ë˜ëŠ” ë§¤ìš° ë¶ˆì•ˆí•œ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ìƒì‚°í•´ëƒˆìŒ.ê·¸ëŸ¬ë‹¤ ì—°ì°¨ê°€ ì¢€ ìŒ“ì´ê³  Command(ë“±ë¡,ìˆ˜ì •,ì‚­ì œ), Query(ì¡°íšŒ)ë¡œ ë‚˜ëˆ”.\t* <code class=\"language-plaintext highlighter-rouge\">BoardCommandService</code>\t* \u0010<code class=\"language-plaintext highlighter-rouge\">BoardQueryService</code>í•˜ì§€ë§Œ ë°˜ìœ¼ë¡œ ìª¼ê°œì¡Œì„ ë¿ ë¹„ëŒ€í•˜ê³  ì—‰ë§ì´ê¸´ ë§ˆì°¬ê°€ì§€.</p><h2 id=\"srpë¥¼-ì¤€ìˆ˜í•˜ì\">SRPë¥¼ ì¤€ìˆ˜í•˜ì.</h2><p>ë¬¸ë“ SRPë¥¼ ê°•ë ¥í•˜ê²Œ ì§€í‚¨ë‹¤ë©´ ë” ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¦.ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ê°€ public ë©”ì†Œë“œë¥¼ í•˜ë‚˜ë§Œ ì„œë¹„ìŠ¤í•˜ë„ë¡ ì„¤ê³„í–ˆë”ë‹ˆ ìƒê°ë³´ë‹¤ ê´œì°®ì•˜ìŒ.í•´ë‹¹ í´ë˜ìŠ¤ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ íŒŒì¼ë„ ë©”ì†Œë“œ í•˜ë‚˜ë§Œì„ ì£¼ì œë¡œ í…ŒìŠ¤íŠ¸í•˜ë‹ˆ ì¢‹ì•˜ìŒ.</p><p>ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì—ë¦­ì—ë°˜ìŠ¤ DDD ì±…ì„ ì°¸ê³ í•´  <code class=\"language-plaintext highlighter-rouge\">***Service</code> ë¼ê³  ë„¤ì´ë°í•˜ì§€ ì•Šê³  <code class=\"language-plaintext highlighter-rouge\">-er</code> ë¡œ í–ˆìŒ.ì´ëŸ° ì‹.\t* <code class=\"language-plaintext highlighter-rouge\">BoardCreator</code>\t* <code class=\"language-plaintext highlighter-rouge\">CommentCreator</code> \t* <code class=\"language-plaintext highlighter-rouge\">CommentDeleter</code></p><p>ì´ë ‡ê²Œ ë³€ê²½í•˜ë‹ˆ ë°©ëŒ€í•œ <code class=\"language-plaintext highlighter-rouge\">BoardService</code> ëŠ” CRUD ì˜¤í¼ë ˆì´ì…˜ ë‹¨ìœ„ë¡œ ì´˜ì´˜í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆì—ˆìŒ.\t* í´ë˜ìŠ¤ í•˜ë‚˜ê°€ 30ì¤„ì„ ë„˜ëŠ” ê²½ìš°ê°€ ë“œë¬¼ë‹¤\t* íŒŒì¼ ì—´ì–´ë³´ë©´ 5ì´ˆ ì•ˆì— ë­í•˜ëŠ” íŒŒì¼ì¸ì§€ ë°”ë¡œ íŒŒì•… ê°€ëŠ¥\t* í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì§‘ë„ ë†’ì•„ì§\t* íŒŒì¼ì´ ë§ì•„ì§€ê¸´ í•˜ë‚˜ í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•ŠìŒ</p><p>ì†Œê·œëª¨ í”„ë¡œì íŠ¸ì— ì ìš©í–ˆê³  ì´ í”„ë¡œì íŠ¸ì—ëŠ” <code class=\"language-plaintext highlighter-rouge\">-Service</code> ë¡œ ëë‚˜ëŠ” í´ë˜ìŠ¤ê°€ ë‹¨ í•˜ë‚˜ë„ ì—†ì—ˆìŒ.</p><h2 id=\"ì»¨íŠ¸ë¡¤ëŸ¬ë„-ë§ˆì°¬ê°€ì§€ë¡œ-srpë¥¼-ì¤€ìˆ˜í•˜ë„ë¡\">ì»¨íŠ¸ë¡¤ëŸ¬ë„ ë§ˆì°¬ê°€ì§€ë¡œ SRPë¥¼ ì¤€ìˆ˜í•˜ë„ë¡</h2><p>ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì„ ì„¤ì •í•¨ \t* ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ëŠ” API URI í•˜ë‚˜ë§Œ ë‹´ë‹¹í•œë‹¤ \t* URI ê²½ë¡œë¥¼ ê·¸ëŒ€ë¡œ íŒ¨í‚¤ì§€ ê²½ë¡œë¡œ ì‚¬ìš©í•œë‹¤URIê°€ <code class=\"language-plaintext highlighter-rouge\">/shop/product</code> ë¼ê³  í•  ë•Œ íŒ¨í‚¤ì§€ë¥¼ <code class=\"language-plaintext highlighter-rouge\">web/shop/product</code> ì´ëŸ° ì‹ìœ¼ë¡œ ë§Œë“¤ê³  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì´ ì•ˆì— ë°°ì¹˜.</p>",
            "url": "https://cocodori.github.io/2022/02/06/%EC%9A%94%EC%95%BD-%ED%95%9C-%EA%B0%9C%EC%9D%98-%EB%A9%94%EC%86%8C%EB%93%9C%EB%A7%8C-%EA%B0%96%EB%8A%94-%EA%B3%84%EC%B8%B5%ED%98%95-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%8A%A4%ED%83%80%EC%9D%BC",
            
            
            
            
            
            "date_published": "2022-02-06T00:00:00+01:00",
            "date_modified": "2022-02-06T00:00:00+01:00",
            
                "author":  {
                "name": "Hoon",
                "url": null,
                "avatar": null
                }
                
            
        }
    
    ]
}